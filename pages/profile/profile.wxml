<!-- ä¸ªäººä¸­å¿ƒé¡µé¢ -->
<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯å¤´éƒ¨ -->
  <view class="header-section" bindtap="handleHeaderTap">
    <view class="user-info">
      <view class="avatar-wrapper">
        <image class="avatar" src="{{userInfo.avatarUrl || userInfo.avatar || 'https://via.placeholder.com/200x200/F5EDE4/8B7355?text=æ¸¸å®¢'}}" mode="aspectFill" />
      </view>
      <view class="user-detail">
        <text class="nickname">{{userInfo.nickName || userInfo.nickname || 'æ¸¸å®¢'}}</text>
        <text class="user-id" wx:if="{{!hasLogin}}">ç‚¹å‡»ç™»å½•</text>
        <text class="user-id" wx:if="{{hasLogin}}">å·²ç™»å½•</text>
      </view>
    </view>
  </view>

  <!-- ç™»å½•æŒ‰é’®ï¼ˆæœªç™»å½•æ—¶æ˜¾ç¤ºï¼‰ -->
  <view class="login-section" wx:if="{{!hasLogin}}">
    <button class="login-btn" bindtap="login">å¾®ä¿¡ä¸€é”®ç™»å½•</button>
  </view>

  <!-- é€€å‡ºç™»å½•æŒ‰é’®ï¼ˆå·²ç™»å½•æ—¶æ˜¾ç¤ºï¼‰ -->
  <view class="logout-section" wx:if="{{hasLogin}}">
    <button class="logout-btn" bindtap="logout">é€€å‡ºç™»å½•</button>
  </view>

  <!-- æ•°æ®ç»Ÿè®¡ -->
  <view class="stats-section">
    <view class="stat-item" bindtap="goToFavorites">
      <text class="stat-num">{{favoriteCount}}</text>
      <text class="stat-label">æ”¶è—</text>
    </view>
    <view class="stat-item" bindtap="goToCart">
      <text class="stat-num">{{cartCount}}</text>
      <text class="stat-label">è´­ç‰©è½¦</text>
    </view>
    <view class="stat-item" bindtap="goToOrders">
      <text class="stat-num">{{orderCount}}</text>
      <text class="stat-label">è®¢å•</text>
    </view>
  </view>

  <!-- åŠŸèƒ½åˆ—è¡¨ -->
  <view class="menu-section">
    <view class="menu-item" bindtap="goToFavorites">
      <view class="menu-icon">â¤ï¸</view>
      <text class="menu-text">æˆ‘çš„æ”¶è—</text>
      <text class="menu-count" wx:if="{{favoriteCount > 0}}">{{favoriteCount}}</text>
      <text class="menu-arrow">â€º</text>
    </view>
    <view class="menu-item" bindtap="goToCart">
      <view class="menu-icon">ğŸ›’</view>
      <text class="menu-text">è´­ç‰©è½¦</text>
      <text class="menu-count" wx:if="{{cartCount > 0}}">{{cartCount}}</text>
      <text class="menu-arrow">â€º</text>
    </view>
    <view class="menu-item" bindtap="goToOrders">
      <view class="menu-icon">ğŸ“‹</view>
      <text class="menu-text">æˆ‘çš„è®¢å•</text>
      <text class="menu-arrow">â€º</text>
    </view>
    <view class="menu-item" bindtap="goToCoupons">
      <view class="menu-icon">ğŸ«</view>
      <text class="menu-text">ä¼˜æƒ åˆ¸</text>
      <text class="menu-arrow">â€º</text>
    </view>
  </view>

  <!-- å…¶ä»–æœåŠ¡ -->
  <view class="menu-section">
    <view class="menu-item">
      <view class="menu-icon">ğŸ“</view>
      <text class="menu-text">è”ç³»å®¢æœ</text>
      <text class="menu-arrow">â€º</text>
    </view>
    <view class="menu-item" bindtap="goToAbout">
      <view class="menu-icon">â„¹ï¸</view>
      <text class="menu-text">å…³äºæˆ‘ä»¬</text>
      <text class="menu-arrow">â€º</text>
    </view>
    <view class="menu-item">
      <view class="menu-icon">ğŸ“„</view>
      <text class="menu-text">éšç§æ”¿ç­–</text>
      <text class="menu-arrow">â€º</text>
    </view>
  </view>
</view>
