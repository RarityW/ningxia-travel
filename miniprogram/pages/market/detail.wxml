<!-- 宁夏旅游门票优惠 - 景点详情页 -->
<view class="container" wx:if="{{scenic}}">
  <!-- 导航栏 -->
  <custom-nav title="商品详情" background="#ffffff" color="#000000"></custom-nav>

  <!-- 1. 商品图轮播 (1:1比例) -->
  <swiper class="product-swiper" indicator-dots indicator-color="rgba(0,0,0,0.3)" indicator-active-color="#000000" autoplay circular>
    <swiper-item wx:for="{{scenic.images.length > 0 ? scenic.images : [scenic.image]}}" wx:key="*this">
      <image class="product-image" src="{{item}}" mode="aspectFill" />
    </swiper-item>
  </swiper>

  <!-- 2. 价格与标题区域 -->
  <view class="product-header">
    <view class="price-row">
      <text class="currency">¥</text>
      <text class="price">{{scenic.discountPrice}}</text>
      <text class="original-price" wx:if="{{scenic.price > scenic.discountPrice}}">¥{{scenic.price}}</text>
    </view>
    
    <view class="title-row">
      <text class="product-title">{{scenic.name}}</text>
    </view>

    <!-- 优惠券Banner -->
    <view class="coupon-banner" wx:if="{{scenic.coupons && scenic.coupons.length > 0}}">
      <view class="coupon-left">
        <text class="coupon-label">优惠券</text>
        <text class="coupon-text" wx:for="{{scenic.coupons}}" wx:key="index">{{item.title}}</text>
      </view>
      <view class="coupon-right">
        <text>去领券 ›</text>
      </view>
    </view>
  </view>

  <!-- 3. 规格选择 -->
  <view class="spec-cell" wx:if="{{scenic.specs}}">
    <text class="cell-label">选择</text>
    <text class="cell-value">{{scenic.specs[0]}}</text>
    <text class="cell-arrow">›</text>
  </view>

  <!-- 4. 权益/服务 (原有) -->
  <view class="service-cell">
    <view class="service-item">
      <text class="check-icon">✓</text>
      <text>包邮</text>
    </view>
    <view class="service-item">
      <text class="check-icon">✓</text>
      <text>正品保证</text>
    </view>
    <view class="service-item">
      <text class="check-icon">✓</text>
      <text>7天无理由退货</text>
    </view>
    <text class="cell-arrow">›</text>
  </view>

  <!-- 5. 详情内容 -->
  <view class="detail-content">
    <view class="section-title">—— 商品详情 ——</view>
    <text class="intro-text">{{scenic.description}}</text>
    <!-- 模拟详情图 -->
    <block wx:for="{{scenic.images}}" wx:key="*this">
      <image class="detail-image" src="{{item}}" mode="widthFix" />
    </block>
  </view>

  <!-- 底部操作栏 -->
  <view class="bottom-bar">
    <view class="icon-btn" bindtap="goToShop">
      <text class="icon">🏠</text>
      <text class="text">店铺</text>
    </view>
    <view class="icon-btn" bindtap="goToCart">
      <text class="icon">🛒</text>
      <text class="text">购物车</text>
    </view>
    <view class="action-btn-group">
      <view class="action-btn add-cart" bindtap="addToCart">
        <text>加入购物车</text>
      </view>
      <view class="action-btn buy-now" bindtap="buyTicket">
        <text>立即购买</text>
      </view>
    </view>
  </view>
</view>

<!-- 加载状态 -->
<view class="loading" wx:if="{{!scenic}}">
  <view class="spinner"></view>
  <text>加载中...</text>
</view>
