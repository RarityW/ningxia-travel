<!-- æ™¯ç‚¹åˆ—è¡¨é¡µé¢ -->
<custom-nav title="å®å¤æ™¯åŒº" background="#ffffff" color="#000000" back="{{true}}"></custom-nav>
<view class="container">
  <!-- åˆ†ç±»ç­›é€‰ -->
  <scroll-view class="category-scroll" scroll-x>
    <view class="category-list">
      <view
        wx:for="{{categories}}"
        wx:key="*this"
        class="category-item {{currentCategory === item ? 'active' : ''}}"
        bindtap="switchCategory"
        data-category="{{item}}"
      >
        {{item}}
      </view>
    </view>
  </scroll-view>

  <!-- æ™¯ç‚¹åˆ—è¡¨ -->
  <view class="attraction-list">
    <view
      wx:for="{{attractions}}"
      wx:key="id"
      class="attraction-item"
      bindtap="goToDetail"
      data-id="{{item.id}}"
    >
      <image class="attraction-image" src="{{item.coverImage}}" mode="aspectFill"></image>
      <view class="attraction-info">
        <view class="attraction-header">
          <text class="attraction-name">{{item.name}}</text>
          <view class="grade-tag grade-{{item.grade}}">{{item.grade}}</view>
        </view>
        <view class="attraction-meta">
          <text class="location">ğŸ“ {{item.region}} Â· {{item.address}}</text>
        </view>
        <view class="attraction-meta">
          <view class="rating">
            <text class="star">â˜…</text>
            <text class="score">{{item.rating || '4.5'}}</text>
            <text class="views">({{item.views || 0}}äººæµè§ˆ)</text>
          </view>
        </view>
        <view class="attraction-footer">
          <text class="price">é—¨ç¥¨ Â¥{{item.ticketPrice}}</text>
          <text class="open-time">{{item.openTime}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading" wx:if="{{loading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <!-- æš‚æ— æ•°æ® -->
  <view class="empty" wx:if="{{!loading && attractions.length === 0}}">
    <text>æš‚æ— æ™¯ç‚¹æ•°æ®</text>
  </view>
</view>

