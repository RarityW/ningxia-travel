<!-- æ™¯ç‚¹è¯¦æƒ…é¡µé¢ -->
<custom-nav title="æ™¯ç‚¹è¯¦æƒ…" back="{{true}}"></custom-nav>
<view class="container" wx:if="{{attraction}}">
  <!-- é¡¶éƒ¨è½®æ’­å›¾ -->
  <swiper class="banner-swiper" indicator-dots autoplay circular>
    <swiper-item wx:for="{{attraction.images.length > 0 ? attraction.images : [attraction.coverImage]}}" wx:key="*this">
      <image class="banner-image" src="{{item}}" mode="aspectFill"></image>
    </swiper-item>
  </swiper>

  <!-- åŸºæœ¬ä¿¡æ¯ -->
  <view class="info-card card">
    <view class="header">
      <text class="name">{{attraction.name}}</text>
      <view class="grade-tag">{{attraction.grade}}</view>
    </view>
    <view class="subtitle">{{attraction.englishName}}</view>
    <view class="meta">
      <view class="meta-item">
        <text class="icon">ğŸ“</text>
        <text>{{attraction.address}}</text>
      </view>
      <view class="meta-item">
        <text class="icon">â°</text>
        <text>{{attraction.openTime}}</text>
      </view>
      <view class="meta-item">
        <text class="icon">ğŸ“</text>
        <text>{{attraction.phone}}</text>
      </view>
    </view>
    <view class="rating-box">
      <text class="star">â˜…</text>
      <text class="score">{{attraction.rating}}</text>
      <text class="views">{{attraction.views}}äººæµè§ˆ</text>
    </view>
  </view>

  <!-- ä»·æ ¼ä¿¡æ¯ -->
  <view class="price-card card">
    <text class="price-label">é—¨ç¥¨ä»·æ ¼</text>
    <text class="price-value">Â¥{{attraction.ticketPrice}}</text>
  </view>

  <!-- ç‰¹è‰²æ ‡ç­¾ -->
  <view class="features-card card">
    <view class="section-title">ç‰¹è‰²ä½“éªŒ</view>
    <view class="feature-list">
      <view wx:for="{{attraction.features}}" wx:key="*this" class="feature-item">
        {{item}}
      </view>
    </view>
  </view>

  <!-- æ™¯ç‚¹ä»‹ç» -->
  <view class="desc-card card">
    <view class="section-title">æ™¯ç‚¹ä»‹ç»</view>
    <text class="desc-text">{{attraction.description}}</text>
  </view>

  <!-- æ ‡ç­¾ -->
  <view class="tags-card card">
    <view class="section-title">æ ‡ç­¾</view>
    <view class="tag-list">
      <text wx:for="{{attraction.tags}}" wx:key="*this" wx:for-item="tag" class="tag">{{tag}}</text>
    </view>
  </view>

  <!-- åº•éƒ¨æ“ä½œæ  -->
  <view class="bottom-bar">
    <view class="action-btn" bindtap="toggleFavorite">
      <text class="btn-icon">{{isFavorite ? 'â¤ï¸' : 'ğŸ¤'}}</text>
      <text class="btn-text">{{isFavorite ? 'å·²æ”¶è—' : 'æ”¶è—'}}</text>
    </view>
    <view class="action-btn primary" bindtap="buyTicket">
      <text class="btn-text">ç«‹å³è´­ç¥¨</text>
    </view>
  </view>
</view>

<!-- åŠ è½½ä¸­ -->
<view class="loading" wx:if="{{!attraction}}">
  <text>åŠ è½½ä¸­...</text>
</view>
