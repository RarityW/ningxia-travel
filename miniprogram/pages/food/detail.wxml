<!-- 美食详情页面 -->
<view class="container" wx:if="{{food}}">
  <!-- 顶部轮播图 -->
  <swiper class="banner-swiper" indicator-dots autoplay circular>
    <swiper-item wx:for="{{food.images.length > 0 ? food.images : [food.coverImage]}}" wx:key="*this">
      <image class="banner-image" src="{{item}}" mode="aspectFill"></image>
    </swiper-item>
  </swiper>

  <!-- 基本信息 -->
  <view class="info-card card">
    <view class="header">
      <text class="name">{{food.name}}</text>
      <view class="category-tag">{{food.category}}</view>
    </view>
    <view class="meta">
      <view class="meta-item">
        <text class="icon">📍</text>
        <text>{{food.region}}</text>
      </view>
      <view class="meta-item">
        <text class="icon">⭐</text>
        <text>推荐度: {{food.recommend ? '高' : '中'}}</text>
      </view>
    </view>
    <view class="rating-box">
      <text class="star">★</text>
      <text class="score">{{food.rating}}</text>
      <text class="views">{{food.views}}人浏览</text>
    </view>
  </view>

  <!-- 价格信息 -->
  <view class="price-card card">
    <text class="price-label">参考价格</text>
    <text class="price-value" wx:if="{{food.price > 0}}">¥{{food.price}}</text>
    <text class="price-value-free" wx:else>价格面议</text>
  </view>

  <!-- 推荐商家 -->
  <view class="shops-card card" wx:if="{{food.shops && food.shops.length > 0}}">
    <view class="section-title">推荐商家</view>
    <view class="shop-list">
      <view wx:for="{{food.shops}}" wx:key="*this" class="shop-item">
        {{item}}
      </view>
    </view>
  </view>

  <!-- 美食介绍 -->
  <view class="desc-card card">
    <view class="section-title">美食介绍</view>
    <text class="desc-text">{{food.description}}</text>
  </view>

  <!-- 底部操作栏 -->
  <view class="bottom-bar">
    <view class="action-btn" bindtap="toggleFavorite">
      <text class="btn-icon">{{isFavorite ? '❤️' : '🤍'}}</text>
      <text class="btn-text">{{isFavorite ? '已收藏' : '收藏'}}</text>
    </view>
    <view class="action-btn primary" bindtap="showShops">
      <text class="btn-text">查看商家</text>
    </view>
  </view>
</view>

<!-- 加载中 -->
<view class="loading" wx:if="{{!food}}">
  <text>加载中...</text>
</view>
