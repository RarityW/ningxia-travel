<!-- æ”¶è—é¡µé¢ -->
<custom-nav title="æˆ‘çš„æ”¶è—" back="{{true}}"></custom-nav>
<view class="container">
  <!-- åˆ†ç±»åˆ‡æ¢ -->
  <view class="category-tabs">
    <view
      wx:for="{{categories}}"
      wx:key="value"
      class="tab-item {{activeCategory === item.value ? 'active' : ''}}"
      bindtap="switchCategory"
      data-category="{{item.value}}"
    >
      {{item.label}}
    </view>
  </view>

  <!-- æ”¶è—åˆ—è¡¨ -->
  <view class="content-list">
    <block wx:if="{{filteredFavorites.length > 0}}">
      <view
        wx:for="{{filteredFavorites}}"
        wx:key="id"
        class="item-card"
        bindtap="goToDetail"
        data-item="{{item}}"
      >
        <image class="item-image" src="{{item.coverImage}}" mode="aspectFill" />
        <view class="item-info">
          <text class="item-name">{{item.name}}</text>
          <text class="item-type">{{item.typeLabel}}</text>
          <view class="item-meta">
            <text class="item-rating" wx:if="{{item.rating}}">â­ {{item.rating}}</text>
            <text class="item-region" wx:if="{{item.region}}">ğŸ“ {{item.region}}</text>
          </view>
        </view>
        <view class="item-delete" bindtap="deleteFavorite" data-id="{{item.id}}" catchtap="deleteFavorite">
          <text>ğŸ—‘</text>
        </view>
      </view>
    </block>

    <view class="empty" wx:else>
      <text class="empty-icon">â¤ï¸</text>
      <text class="empty-text">æš‚æ— æ”¶è—å†…å®¹</text>
      <text class="empty-hint">å»æ™¯ç‚¹ã€ç¾é£Ÿã€æ–‡åŒ–é¡µé¢é€›é€›å§</text>
    </view>
  </view>
</view>
